19:55
Sure that there's a couple of things, but that's a good starting place. 

I know updating our Ingress models. 

I know there's been some, Um, I guess. 

Technology Releases from AWS as far as our Ingress pattern, so we need to review them As a team as well, Like an interested in. 

What's the front end AWS Cloud Front? 

Well for delivery. 

They're going to hit U.S West or U.S West, one. 

They're going to hit U.S West or U.S West one, And then that would write them that they would use the AWS backbone. 

So pretty much. 

It has a I guess you say like a load balancer, But it's on. 

It's on AWF data. 

The DIY do a cloudfront of the refrigera to try and? 

The DIY do a cloudfront of the refrigera to try and Speeding a bit on sea stars. 

Yeah, yeah, we. 

We did some with the landing or with the uh outage page, which we, that's something else that will have to follow up and deploy. 

Um, So we've got a familiar with it a little bit, um, as far as reading on it. 

And you know, researching Cloud front? 

Also, the the DNS that they release the global DNS? 

Also, the the DNS that they release the global DNS, Um, one of the main things is. 

I mean, I know, we have the Lambda function today that does our fell over. 

Um, But I don't think that's that's needed anymore, so we can take a look at that as well, whether that comes from us or Stratus, But those are the name. 

If you either way, don't point being is, we'll get together as a team, and we'll kind of go through. 

I'll start off with, like a starting point, and then we can continue and grow that list of goals from the year. 

Um, what we expect you to accomplish? 

Sounds good. 

So, so the homework areas guys is The research. 

Think about it, you know, and like I said, we'll set up a meeting in any improvements that you can see in monitoring in our Cloud infrastructure. 

In our Ingress egress, I know they were they. 

They've got a firewall proxy now, um, that they came out with this. 

Well, AWS has, so that's something that we can look at as well. 

Eating POCS. 

You guys want to do, But that's a T9. 

Or, you know, shared Dev? 

Um, that's something we can look at. 

Um, so just, I guess, the homework there is to think about that in, You know, come have a list of items you're ready to discuss, Uh, make sure you participate in in the media as well. 

I will call on. 

People make sure that everybody's participating. 

And Andreas been looking at the fireworkcoxic features. 

So, yeah, nothing was talking about. 

Did you mention technical debt in that list? 

No, I did. 

We could go through some of that as well. 

All we have is technical bet honestly, besides What? 

All we have is technical bet honestly. 

Besides, What I, what I would like to do, I know one thing, and that's all worked with you on, is, you know, we have this huge. 

Spreadsheet, or or Document, with all of our Ingress egress designs. 

Yeah, you know, we got. 

You can kind of consolidate that stringent, simplified a little bit. 

Um, so we're not going to the clients we have 46 tab, you know, design? 

I think we can. 

I think we can Remove some of the junk that's in there to unnecessary stuff. 

Um, Can have access on friend and But, yeah, we'll kind of dress that up as well. 

Just that's kind of inscope in the current tickets, isn't it? 

No, no, there's no, mainly, I think we were just looking for us to look at the DNS portion for the private Link Ingress. 

Yeah, those are the top in that scripture, which is what I'm going to go through with not less. 

So, yeah, we need to maybe leave that and create. 

So, yeah, we need to maybe leave that and create Spreadsheets that Target specific things so that, we, You know, Do you have a few accounts at least is golden paths, whether that's something you want somebody else to deliver as a golden pad. 

All that you think Nimbus is uniquely placed is to deliver. 

Yeah, we'll continue to support gold paths As well as What was the other Sorry, Kevin, a little slow coming back from Libra was another Waving initiative that we are the VPC Consolidation. 

Still, some tickets out there for that as well. 

Yeah, but we we won't get revealed by doing that. 

Yeah, But if we can simplify it by, you know, any DVCs we've been cleaned up? 

Offices, I'm joking. 

That's a good technical decline. 

Actually, yeah, true. 

True. 

Like, wait, there's still, you know, 50 out there, that? 

Yeah, we can't get to the end, but we're closed enough to project. 

Either way, There's something to think about for. 

Go find it next year, So there is one ticket newly added On Christmas Eve to the backlog, which I've not seen before Face value. 

It looks like something the application team would do themselves, But um, Take feedback. 

It's on the screen right now. 

Yeah, that's right, Yeah, and needs to go back to the more, uh, craw PCI coordinate. 

Um, Send it over to. 

Or devops. 

I'll try over this. 

Um, pizza first Could be there from that little thing, Always standing in for creation at the moment. 

Um, I believe I knew. 

It's what happened. 

I didn't even know when Christian led Of Thanksgiving. 

That was a weird call, though, like, what can you guys done? 

I'm, like, Why you know what's what's driving this? 

Why do we need this, you know, done during the freeze? 

They're, like, Christian said, we got to get it done. 

You're good, just got here anymore. 

Guys, I mean, Uh, he's looked down to bigger and better things. 

I know you recently Completing his Cio Training, so maybe he's, uh, I'm not sure where he's going, but you'll be doing pretty good. 

But yeah, That was, like, I said, We'll see what happens with the I'm sure there's some reorg stuff coming around as well, as far as the, Um, That message or project icon, you guys pretty much know what I know I'm here in, like anything now Will be the actual. 

I think the ninth of this week or something. 

It's the last I heard, and that's a rumor. 

So I don't know, Uh, one of the freeze goes out further than that. 

Um, everything effort is be businesses as usual, um, no big changes, I think. 

Um, everything effort is be businesses as usual. 

Um, no big changes, I think, Um, you know, Um, as far as I know. 

Um, although you'll be the CI, our CTO, J, the report camp along with build Baldwin from the Mainframe, Um, Pretty much old. 

Garrett's team will be moving over, kind of like we previously did that. 

We move it over to, Um, all the And then I'll be. 

We've got pretty much everything I think for Haitian as far as the technical Resources. 

But we'll be the new Gary Or maybe fill even. 

I think the the night was what the day I, Well, we'll see. 

Yeah, they haven't formally communicated anything now, so I want to make that clear. 

You know, there's rumors. 

I think they put something some of them, that's stuff, and put something somewhere, I know. 

Yeah, Um, if? 

Yeah, Um, if you haven't know if you haven't looked out on the internet, everything's been passed approved by The U.S and and UK And Eu as well. 

So, There should be like stopping us moving forward. 

Yeah, Um, everyone should have got their benefits in. 

Even, you know, And then up front. 

The m dude also pushed this new email for FIS access. 

It's going out in the next couple of weeks, Pretty much It. 

They install. 

It's called Island. 

It's A browser, a secure browser on your desktop. 

Can you open it? 

And then. 

But there's an RSA. 

But there's an RSA Coconut. 

You've got to either download on your work phone, personal phone, or you can download it onto your laptop. 

It's got instructions on how to you only get one, So Choose Wisely. 

I said that you probably didn't move it back to work, but that should be coming back. 

If you haven't received that email in the next couple of weeks, Thank you. 

It'll give you access Their network. 

Some of their system, I say, systems, their applications. 

And then. 

From there, I'm assuming I should. 

I got my credentials as well, but you should not log into this VPN when you are trying to create Well. 

The other thing is that by an issue, but I'm on the lamp in the UK office that it doesn't load the RSA page, so I'm going to go on the Wi-Fi because simply works on the Wi-Fi. 

What is the island browser? 

What is the island browser? 

It's an isolated browser Basically falls upon. 

Basically, eight hours are so open sandbox. 

So, are they making it where you kind of like log into a video to get access to your apps? 

Yeah, but surprise apologies. 

It's isolated, and you get like, It's a bit like, so it's kind of gas man. 

Okay. 

Okay, So before you take the screen off for me, right? 

These are the dates where we're expecting the rollout of the credentials. 

So, yeah. 

What is tranch? 

I had to Google it. 

I was like, what is, Um? 

French, isn't it? 

It, can't? 

You can't show it. 

Oh yeah, you can't show your black screen. 

It's like, that's how isolated it is. 

Do a video conference sharing. 

Do a video conference sharing. 

Not from outside inside the brows, Something out with a meat link, And we tried screenshots and everything else I don't work either. 

Policy that I don't know how direct make a couple of time student password. 

Um, Yes, you know? 

I don't know that 12th date was UK, whatever, because we've already got I. 

I don't have them. 

There was something else. 

There were some guinea pigs, And it all was not taken out. 

Maybe maybe? 

Um, I do know, and I'm hoping that Re-Look at. 

I know, I want to say, was it a nil? 

Or What's the no our nil's? 

Who's that? 

Who's that? 

They're talking about Anil mean? 

I think Santos were scheduled to move up under. 

Um, previously, so, And that's Kind of the. 

The more of the EAU support for the cloud Ops, Um, For what they manage so native. 

I'm hoping they look at that as well. 

But um, Maybe? 

But um, Maybe Some openings. 

Since Christians Gone Along with the Jordan is, Is he leaving or he's left? 



20:11
As well, though. 

Yeah, Um, So there'll be some some opening activation Opportunities. 

People who want to get in leadership. 

I think is, is that too soon to do It kind of review that you wanted Matt? 

Or is that good time for it? 

I'm sorry, say that again. 

We got the cet review meeting tomorrow, which is currently empty so I can over cancel it. 

I'll repurpose it to do that and exercise you mentioned. 

I love that caring. 

I love your your. 

No, no, Like Monday Scenario, like you said, how about tomorrow? 

No, not tomorrow. 

Tomorrow. 

I like it. 

All right, Take. 

Take a bit more time back tomorrow then. 

Take a bit more time back tomorrow then. 

Well, we'll come back everyone And Small news as it hits us. 

It's okay, bye! 

Don't have any, uh, there's a document should be to explain, Uh? 

I'm getting silver badge also. 



21:02
Now, what that does? 

It has all of the subnets All of the routine tables that are associated with those subnets in inspection and how the traffic kind of reaps through the environment. 

Um, and as you might know, this looks like a really busy diagram. 

It's just because every single subnet type has its own Root table. 

So this just shows you for the, you know, like the private links of that. 

What the root tables look like, where you know where they send things and, and most of the time, all of the routing within the inspection VPC. 

Is this really just geared to us making sure that traffic flows through the firewall And, and um, yeah, in that direction? 

So, it's the the Keeps the routine Zone off. 

So, if traffic comes in from the internet, It ends. 

It makes sure the traffic kind of roots through the firewall or stateful inspection because we need to make sure if, like, a request comes in to a low balance of behind the firewall in availability Zone 1A. 

This is just baked into the inspection VPC module. 

This is just baked into the inspection VPC module, Um deploys, just across two availability levels. 

So, and they're they're random, you know, we? 

We choose one a and one B, And that can be any of the in most regions. 

It's three A6 Well, but in US61, there are six centers. 

I think that's the only outlath. 

I think all the rest of three there might be some other genes that have Volume three. 

I'm not sure, but ultimately, we only have the deployed two. 

So in US East one. 

For example, if you go into shared PCI And you look, Uh, the substance, It's it's deployed into. 

I think it's two and six, Uh, that we end up going into socks remove the filter. 

So these are all the subnets within Shared PCI, Let's say. 

Filter on the Ingress inspection. 

Bpc, You'll see all of these Are actually using forms. 

So, The issue, which is fine, you know, work totally fine for us. 

We've got multiple Azs. 

We've got inspection patterns that deploying two availability, entire availability, and if the traffic's come in from the internet, I'll be to be Just works not, not an issue. 

The issue we have with private link Is that, uh, private link Is like a zone or service. 

So, if you think if we deploy our applications and we want to expose them using private link, We've got these special private link subnets that kind of sit outside the firewall, Uh, and we deploy the private link NLBs into those private link sublets. 

So, we end up with a private link NLB with an eni in each availability zone. 

In our case, let's say, share PCI and USC one. 

We end up with an eni in az4 and Az6, Um, When you create a VP simple service for private link, And then we expose that to our customers. 

They can only deploy interfaced endpoints In the same two availability zones that we are in. 

Yes, so our our customers now need to align With Forum six because they're because because private link is this Zonal, We're only barely making our service available to our customers in Zone's forensics. 

It better than that handset doesn't happen all less until it, then the same job, Exactly. 

So, if a customer comes along to us and they're operating one and two Literally, they can't consume our privately service because they're not in the same. 

So, Ironically, with the new cross region private link service that we've got if they were in a different region, they could because that zone Issued goes away, but if they're in the same region as us, they need to be in the same region. 

So, that's sometimes causes friction with our customers. 

They might not be in those Available designs, and they have to then build out infrastructure into those availabilities. 

Earns, You know. 

So as a service provider for us, it would be much better if we Add private link subnets in every single availability cell. 

Yeah, because if we have private link sublets in every availability Zone, we'd be able to deploy the nlb into every single availability Zone and offer our services in every availability. 

So that's the main sort of problem in terms of Ingress. 

I with the service provider, So we need Really kind of see if we can expand out those private links, so that's into every availability Zone that is within that region. 

But what we don't want to have to do is do that for every single Of our service. 

We don't want to have to put AWS network firewall into every exam. 

We don't want to have to change the fundamental inspection VPC design to be in every availability because The way is all coded. 

It's really coded to deal with two Az, and it would just break if we tried to expand it into three. 

We just want to try and change the logic around the private link subnets. 

We just want to try and change the logic around the private link subnets Within that module so that we can actually deploy Submits a privately in each AZ. 

But to do that, The main impact of that is, we still want to use our Network firewalls in sports If we, For example, or operating in four and six. 

That gives us Two options. 

It's somewhat, it's so many also be. 

But then, we've got six availability zones in US East. 

What we need to do is think of a strategy where we kind of distribute the traffic evenly across those two firewalls, so we could say, Um, for all traffic that comes in for private link on zones. 

Want two and three. 

We send that to firewall one and four, five, six. 

We send to firewall two, or we could do it like onsen evens, which is probably I'd rather do it like an oddly. 

Even so, one goes to our firewall in one a because Zone two goes to file oil B some kind of strategy around that because we're going to expand into four new availability songs, And we want to split two of those availability zones points in the firewall in one eight and two of them availability cents part into firewall. 

What big. 

So, we get an even distribution of low Across, So it won't be just They'll need to be a bit of additional logic. 

And when we create these extra subtits in the module, How we do the routing Because other submits Will have Maybe Roots. 

So, let's look for, like, the Publics in that, for example, Has got Roots back to the prime link subnets. 

Now, at the moment Private subnet in zone a, he goes to A and previous to B. 

We're going to open Cdef Once we create those subnets. 

We're then going to have to, you know? 

The private link submits themselves will need Roots, And that's where you know. 

Traffic traffic coming in most of it's going to be destined to the firewall, So we can say, you know, we can split all the inbound traffic half of it. 

Going to firewall Aza and farther identify what AZB, but then we'll need to make sure that we do the corresponding reverse routes In, say, the publics of that, for example. 

So, where if we can solve, let's let me just sort of copy this to a little scratch page so we can hack around. 

Easier. 

So, we've got this diagram here. 

Let's just drive all the slot. 

So, we're going to expand The inspection VPC Effectively into additional lazies, but we only want to do it for the private mix of those. 

So, we're really just going to Kind of open up this new AZ here. 

So, this, it might be, we might need some tricky logic around. 

So this, it might be, we might need some tricky logic around. 

If it's this region, You know, calculate the amount of Az in that region. 

And then, You know, expand the subnets into it. 

I'm not sure how we're going to do that. 

Let's say this is going to be easy. 

See, So we're going to open up AZC In a new region, but only for the private links of that. 

Okay, so this will need then its own rooting table. 

We're going to create a new private link Subnetite the reaching table For this one. 

Actually, no, we don't need to create new roof table because we've. 



21:13
And you said that. 

So, this new subnet, we're just going to say, well, we're going to align a z-c To the final while in Aza, so it can just inherit that subtler. 

Okay, So now We can deploy A NLB Interface now Into that new subnet And all inbound traffic. 

You know, our new customers in ACC wants to consume our services across all three. 

Any inbound traffic that comes into this private link. 

NLB is now going to get rooted to the firewall Via Na, so it's always going to end up going to this firewall, And this might roll here is going to then send it on to whatever the target is. 

Because this NLB is going to have Two targets, it's going to have, Uh, Target of an alb, typically in certain a, and then the other B, So that NLB is literally going to have two targets. 

So, it's going to connect through to this firewall. 

This firewall is either going to fold it to this ALB, Um. 

What would then need is roots back, so this is where you've got this kind of lovely. 

Try and draw the flow. 

Don't remember, it's great, just like a little while. 

So, let's say, this is the flow. 

Let's just change that to, Uh, let's put it in different colors. 

And let's just come. 

So, this is our Network connection, So it goes gets rooted by the rooting table for the private link somewhere into the firewall, So it ends up at the ald. 

That's ultimately the target group. 

All that that MLB, So it gets rooted that way. 

That's the initial connection, But there's two targets, so there's potentially two flows. 

Well, the roots and table for this private link subway always sends it to firewalla. 

But in this time, the destination, let's say it's the albe in the other ASA, because it's got two targets. 

So, ultimately, all of the connections from that private link NLB. 

Go through the firewall in availability Because the routing table is associated with that private link And point, says The. 

If you want to get to the public subnets where there's alps are or private subnets, whicheverage may be Go to available his own name because the routine table for the private links from that says Private subnet And the public subnets for a very zone a and availability Z all get rooted via far more in AZ. 

That's the next top. 

This firewall here has no knowledge of that flow. 

This firewall here has no knowledge of that flow. 

So when, when the ALB responds back, You know, these connections are TCP connections. 

This is just the initial Packet that goes through the fire off. 

The firewall allows it because we've got a sort of catalog that says allow Private link NLV to the alb sub. 

You know, we'll have a role. 

So as that, so you've got stateful entry in the firewall now. 

The reaching table for this public subnet And the region table for this. 

Let's just let's keep you consistent. 

Let's put these birth in. 

Most likely they're going to be pointing to it. 

ALV and the private submit, so the wooden tables now for the alb private subnet, where these alps sit needs to have a decision to say, how do I get back to the source of the traffic? 

Well, the source of the traffic was the private link and update, So I need to send that traffic via The firewall subnet in available is RNA to make sure that that traffic is symmetric, So we would also need to update this private subnet routing table To say. 

Actually, how do I get I need to add an additional as the Should be aware of it and? 

So, if I add a new what I'm going to have to do is update the private subnet route table to say This needed private link subnet that we created and availability, then see Which firewall I need to go via to get to that. 

It's going to be Network firewall and availability, And we're gonna have to do the same for the other Reaching table for the private subnet and availabilities own big. 

This private submit also is receiving connections from that new private link endpoint, So we need to update this routing table as well. 

So, this is going to be Our new primary subnet In zone C, And we also want to send that by availability zone. 

So, that's the simple example in terms of just one additional Zone, Uh, And we would have to do that for all other subnets where they've got Roots back to the private link subnets. 

So unique subjects as well, you know, any subnet That of? 

This diagram has a route to the private submits. 

They won't. 

They would need an additional route back This new subnet that's all alone on its own. 

It's always going to initiate connections through the firewall because pretty much every. 

If you look at this routing table, every subject, regardless of availability zone, Get a sense of the firewall. 

The targets in Always? 

The targets in Always get sent to this firework, So we need to make sure that this new subnet, a private link, Gets rooted back to that same file. 

Okay, okay, close to that trick. 

Now, that's 180, let's imagine. 

For U.S east one, We've got sticks. 

This is what they're actually. 

We're gonna have three more. 

We're gonna have three more, So we're going to create private links of vaccine. 

The E and F? 

So, here, we just probably going to follow up the pattern. 

So here, we just probably going to follow up the pattern. 

So, you want to probably just do Be in a? 

That's going to be. 

That's going to be. 

That's gonna be. 

So, now what we're saying is, we've got six availabilities zones, Time links of Nets, AC and E, And then B and F. 

Or go virase would be, And then you've kind of got all six private links subnets that we can offer our services in. 

Okay, All sat behind the firewall, And then again, because we've got Just go back onto that. 

So this is, We're gonna get right, the same again, let's say. 

I mean, logically. 

What you could do is, I would show see down there and then on the diagram. 

That's just You kind of want the diagram to kind of match that flow that we've created. 

Let's just fill this. 

Expand this out for The diagram's, not. 

It's going to be a bit annoying, because obviously it differs now per region, whereas before it was the same. 

So now say for US East one. 

We're gonna have, Uh, this is going to be a CNA. 

I hope so, Most of them. 

I'll just be three, but. 

So, this is going to be Because we've said that a availment is an e is going to be aligned to Firewall a well. 

Actually, we can just associate That root table again. 

So, all these three on this side inherit that. 

So, all these three on this side inherit that We would then have to do. 

Let's just try and say this, Then do the same down here. 

We're going to expand Private link subnets only into three moreazs. 

And this is going to be. 

You? 

Of anything. 

I'm not saying that it goes in a few things, so that's it. 

That's going to be. 

And then this is going to be, And they're just going to inherit the sort of Private link group table that sends all the traffic to firewall be. 

So, this is going to just inheritage. 

So, and now we can park private link. 

All these subnets. 

Uh, at which point The flows end up looking, But like, And in reality, each Hg. 

It's going to be Back to both. 

And then this one's going to be doing the same. 

Then you'd have the same for the other side, draw it on, but you can imagine, you know, all three, An lbm points now That are in availability. 

Zone a, c, r, e, And then I have two targets the alps. 

An all six flows are going to end up going through AWS network firewall, So as we just need to make sure that these private subjects beyond the firewall, the traffic back via that firewall by adding reaching table entries in to say, get to acre by an file. 

So we would have exactly the same flows On the other side, Uh, but in different colors. 

Don't try it all out, but you get the idea. 

This plan we're going to say is actually going by a it's not going to go to those same two nlbs because they're the targets are always the same. 

Let's just watch they get rooted. 

Some greens. 

I was always end up going through fire. 

Listen the father. 

So, as long as we've got the Responding Roots back, Everything should stay symmetric. 

That's the most important thing. 

If a firewall connection comes in 180 and you've got, then goes out the other In terms of from the firewall perspective. 

The other firewall has no clue Doesn't have any clue about the. 

Yeah, this firewall here has no clue about the green flows, and this file will here has no clue that prevents closed. 

So, we just need to make sure that the return Roots in here Of the bridge latch this Ac and Always go for that firewall And B DNF always go via firewall, but So if we say the majority of regions are just going to build out into Zone C? 

So, if we say the majority of regions are just going to build out into Zone C, And we just align them to a, This is like mismatch in the traffic balance there, but that's just the nature of being in 3az For USA 12, and it's a bit neater. 

We can say, You know, kind of create that map in. 

So that's that's really it. 

For Ingress, there'll be a few bits to that. 

So before you can build these subnets, you would need cider block Fall those subnets, so we'll have existing side blocks. 

If we go into Going to the subnets for, Let's just, yeah. 

So, it's our English again, And then try to go. 

So these have got some slash 25s. 

We're gonna have to look To see whether we've got any spare space, and I don't think we will have In the Side as they're associated with that Ingress inspection VPC, Cuz I think when I've built these, they were like the last kind of two available. 

Uh, so if we go into the VPC, we look at the Invest inspection BPC. 

Well, we don't want to use the unique range we're going to use the carrier grade that range, but I think that the most of that slash 21 is taken. 

Well, we don't want to use the unique range. 

We're going to use the carrier grade that range, but I think that the most of that slash 21 is taken. 

Um, The way for us to check that is to log into Ipam, So I, If you guys familiar with ipam system, but in for blocks? 



21:28
And we are. 

So that's not 165. 

So, when you get 165, what was the side of block? 

So, this is USA's one PCI 165. 

So, if we go back to one of 165, no, no, there should be a slash one. 

Let's dig down into that. 

So, here's the Inspection VPC. 

Sorry, Is the inspection BPC allocation. 

At PCI for Okay, it's dig into that. 

Hopefully, it will have full breakdown of all the submits within that, So it's not got the full bright palace. 

Just got a list of IP. 

It doesn't. 

So I found doesn't iPad? 

Looks like it just has the super net entries. 

It just tells me, But that slash 21 has been inspection. 

LPC doesn't have all of the subnet carving detail in there, Uh, unfortunately, that we have to kind of do more manual calculation of Looking at the subnets, And you can probably get AI to do this for you by query of the Api or something like that. 

I think it's 21, I think he's 24s, so you've got the first four used here, And then, so that that takes you up to three is four in use. 

Looks like the whole far is Indus Five and six are in use, seventh in use, And when I created those private link ones, which was seven, not 128, And All that 128. 

The reason that they're kind of Not continuous Is because the last space that was available. 

So, what we're going to have to do is Getting additional cider Added To the Inspection DPCs, so that we can carve out these private link subnets from it, and that new cider block, Because basically this space here. 

This slash 21 space is all used up. 

Okay, it's all fall, so we, we, we're going to need to associate a new cider with the inspection of EPC first, So we'll need to get that allocated from, you know. 

Probably go to Gus, Uh, and and shall Start with figure out what What we can use, so there might be some spare space. 

Now, I think I think 8-21 here. 

I think that's the egoist inspection of the PC. 

Uh, uh, let's just go back in a quick look. 

Yeah, Eagles has actually got a lot of other siders. 

There are a little bit more carved up, but eight. 

10 and 11, because that's the slash 23 M12. 

These are all used to egress, Um, that in theory, there is some space there, Because In an iP. 

This ranges for the egress inspection. 

We go back to This. 

We go back to This tab here. 

Igrass is only using. 

Three, four, five. 

So actually, there's 13 Or cream and 15 available. 

So 165.30.4teen and fifteen are all available. 

Um, So in? 

Um, So in theory, we could use some of this space here. 

Because looking at the universities, but so The space we could use some space out of this block, Is this this? 

Hasn't? 

This flash 21 hasn't been allocated to the whole of egress, Um, so we can probably take. 

There are lots. 

Let's just go back to him. 

We said the most. 

He's used to go out, so we've got 13, 14 and 15 Everyone want to keep them the same size. 

The current size of this privately subnets are slash 25s Not allowed to create like 120. 

Private link Services is quite a lot, But we want to keep all of the inspection VPC subnets the same size. 

You need to make sure that every Az is the same size. 

So, if we look if we go back and look at this subnets for private? 

These private links subnets are both 25s that gives you 28 usable addresses. 

So, when we expand into additional availabilities, they all want the slash 25s as well, Okay, Um. 

So, like, for USC Squad? 

So, like for USC Squad, They're gonna need to expand into four more, so we need four more slash 25s, which Two more slash 24s. 

Let's just see what they use for egress. 

I would have thought egress is probably the same, so This is going to be a little bit messy because I don't think for egress Because we have private link for egress as well as Ingress. 

Um, It's also. 

But maybe the private link is Actually, And just, Yeah. 

So, so, And before we move to egress, which is is basically the same thing, but Leo, the direction Journey questions on that. 

So, we've got a few challenges. 

One is, we got before we can even create these sublets and start touching code. 

You know, the first job, really here, is probably to produce This design Expand on this design that we've started here. 

Make sure, And what I tend to do if I'm doing something new, like this. 

Is anything new like highlighted as a change in green or something like that? 

So, I'm going to need to Put on this diagram. 

Maybe put that text in. 

Great To show that these are the new subnets and new routes that we're going to add. 

So this is new, and you kind of know then from the design. 

What you've got to do in the code, who implement The change. 

So, we're going to need to be adding new roofs, this subnet That's going to be. 

He's going to be green as well because these are going to be brand new subnets and availabilities. 

So, the first job is probably map it out on the design, so we're all clear about what we're actually doing. 

We've kind of got this. 

Okay, so much guys, I'll share this weekend. 

We can use this as just a bit of scratch design. 

Um, Once we've done that, we then going to need to get cider blocks allocated, so that's going to be For the iPad. 

Maybe working with customer Michelle figuring out What's a bit allocations we're going to use for each region? 

Yes, he's one is just going to be the anomaly, I think, Uh, on how we do this. 

Once we've got subnet Society and we know what the roots need to be. 

Then we can start looking at the module code And figure it out. 

How do we modify the inspection of VPC module code To handle this? 

Because if you start looking at that Uh module code, you'll see that within ayat framework Network firewall, which is where all of the inspection VPC code is located. 

Even terraform here. 

There are loads of modules And the modules, and then within here. 

We've got the Jesus inspection DPC And in English inspection VPC. 

These are the main modules That deploy all those submits. 

If you go into VPC.Tf, You'll see that I should be allowed it like subnet Creations and stuff like that down here. 

So, yeah, so here. 

Like the private submits, for example, And the current logic is Now based on the length of local.az and the length of local.a's is always two Kind of moment, So it works nicely at the moment. 

But when we now going down to this private link subnets? 

So, here are the private links of Nets. 

We're gonna Have to change that logic. 

Uh, okay, yeah. 

For this conditions, I think there is no worsening here, and it is being used by all the vpcs that is in other reasons as well. 

So, how do we make changes in these modules because it is going to impact all the other VPCs as well? 

Yeah, exactly. 

What we tend to do is. 

What we tend to do is Paul's the pipelines and then row the out on the region by region basis. 

Okay, But ultimately, It ends up. 

Just, you know, we've done updates to these modules, but we're building new stuff. 

We're not destroying or changing existing stuff. 

So, because of that, As long as we're careful with the logic. 

Now, what? 

I might be inclined to do. 

I probably wouldn't, Um, touch. 

I would leave this because this is kind of the primary config. 

A brand new resource, which is just like expansion sublets. 

Um, I think of. 

Um, I think of the larger. 

If we had a new resource for the private link expansion subnets, We want to calculate Which Jay Z's we want to deploy them in And figure out that logic based on what you said before because you're going to say You probably first query How many regions are in On edit out there in that region. 

Exactly. 

Subtract the two that we're already in And then deploy to the others. 

One of the other ways I would say What we can do is we can use the commit IDs In the source of the module call itself. 

So, if any new changes that we are making Night and we're pushing it, It'll give us Accommitt ID. 

And Yeah, Yeah, you. 

And Yeah, Yeah, you could really. 

I know, I think you guys do that. 

Thank you with some of the Rogue stuff. 

Where, because we don't have tags, you're actually just Referring to a specific commit ID in the module hole. 

I mean, you have to go to all of the code where recording the modules. 

I mean, you have to go to all of the code where recording the modules, Um, because if you go back to Inspection VPCs, Whatever those are. 

Yeah, they're all over the place. 

Now, there's a mega project called inspection VPC, And then it got so unwieldy because it's so massive that they started splitting out other regions, and I think only these two regions are split out. 

So, for the inspection, VPC Means we are playing seven regions five of them live within this. 

So, if you go into Maine in here, We probably call Inspection VPC for Mumbai, Virginia, Etc. 

So, five of them are in here. 

But then, and you've got a module for egress and Ingress. 

So, there's like 10 module calls here And then. 

If you go back into the others like these, These are just a single region. 

So, these are the easiest amountage. 

So, these, if you go in there, same code, but we're only just doing the Ingress and egress BPC Island. 

So, yeah, so you could. 

That's one way of doing it. 

We could if we want to kind of do a pseudo kind of version control. 

Go into the existing code. 

Modify this Source So that instead of been a local lock-up, it's pointing to a commit ID. 

So, you would turn it into, like a remote git Source, as opposed to a local sorts. 

Roll out that way, Uh. 

In the past, I've not done that. 

I've turned into just Testing in lower regions and just roll it out on a Power Ranger basis. 

But most of the time, when we've been making changes, They've been fairly safe changes. 

We're building new stuff. 

So, Yeah. 

So, Yeah, we do need to think about that module management. 

It's the old school way we always used to do it without framework modules. 

You know, there's no version control, So we need to think about How we want to roll that out. 

Um, but if it is new if we just creating new sublets, and we're just adding new side of blocks. 



21:45
There's not a lot of risk in theory to the existing traffic. 

Um, It's just Which You just need to think about. 

There can be some knock-on effects Things like Private link subnet references. 

So, what we might do, For example, is if you go to the Let's go back into the inspection if you see? 

In yourself. 

There's probably an output here. 

That's a private thing, So they'll be. 

Yeah, Inspection vpc subnets for privately, And that's probably a list Of all of the subnet IDs, The private link. 

And if you imagine at the moment, that's just a list with two submit IDs And the load balance of projects Are probably referring to the output, uh, so if we pick something like jpmc where having that is because our private link? 

There's some Beach Veterans, So we know that private link is used to produce from C, so they're refer to this local dot private linksubmits as the low balance or subnet IDs. 

If we go back to Maine, that is probably a data source lookup. 

So we primary subnets, that's a data source lookup At the remote State file for the inspection vpc's outputs. 

Virginia inspection efficacy is the best privately, So you can imagine if we expand That subnets into Every availability zone. 

We're going to change that list from a list of two subnets into a list of six and bets, And all of the balances Are going to have a knock-on effect and start deploying into those additional availability zones as soon as we do that. 

Okay, so We need to think about that because, Um, As soon as we do that in theory, Um, Let's think about it. 

It shouldn't have an effect, because If you think about all of our private and customers at the moment, Consuming private link from us, Which isn't that many, actually. 

It's not that many, They're all just. 

Yeah, so what they created their VPC M point for our service? 

Yeah, so what they created their VPC M point for our service. 

They deployed eni's into the two ACS that we actually support of the murder. 

So, when we create these new subtlets, the load balancer suddenly will get deployed to six availability zones rather than But our customers have only ever deployed, too, because that was all that was available to Impact what what it would have it would. 

Then, we could then go back to our customers and say we're now available in these two availabilities errors. 

They could then go into their VPCM point and click that check box To say. 

Actually, I want to deploy not into just foreign Six, but into all six, So I don't think we can. 

I don't think we would have an impact. 

Yes, the nlbs would would have a change. 

They would start expanding so we could probably test that. 

You know what the impact is? 

Would suddenly get ENI's into all six subnets because we've updated this list. 

Would suddenly get ENI's into all six subnets because we've updated this list. 

Ultimately, That would only be these private link NLBs. 

There's not many of them and our customers that are using it have only just clicked the check box, so we just we would be offering that service now in new AVS. 

And if they want you to, they could go in and check that box. 

We wouldn't impact service For anything that's live. 

So, Isn't? 

So Isn't doing it right, you know, and I'll that can be involved with this all the way through. 

We can do it without a service impact, But there are certain changes that we do that, you know. 

As soon as we introduce them Because of that module, lack of referencing inversions. 

Yes, it would suddenly just like start creating them and things like that. 

So, Uh, but you know, that's kind of end game to start with. 

We've got a bit of design work to do. 

We've got subnets to allocate cider blocks to associate with VPCs quite a bit of work on that front, so I would try and break it down The stage. 

Before we get to that, you know, the most important bit to start with, getting that design getting all the subject allocations. 

Take it out. 

Okay, And then moving on. 

Some implementation, which would be modifying the modules to create the new subnets, Set all the routing that we talked about to make sure the traffic symmetric. 

And then. 

Finally, once all that's done and deployed, These NLPs would start picking that up and start being deployed to those additional subnets. 

And that's it! 

Really. 

Um, And that's. 

Um, And that's just Ingress. 

We care. 

We've got the same thing for egress, So this was as a service provider. 

There's another tab in the Uber driver, and that is egress VPC rooted, And we've got the same thing. 

We've got these private link endpoint private endpoint subjects. 

They're called in the address. 

So we, When we deploy like you've been familiar with this, like future XK. 

Some of that is kind of services. 

All. 

All the SAS type services that we deploy from private link, Uh, could be snowflake databricks. 

I'm trying to think of others that we, Uh, consume when we're consuming SAS services. 

We have the same issue like Visa, for example, all my Opera in all six availability zones, but we can only deploy it to two, But we might have a service provider that comes to us and say, oh yeah, we're we're in US East one and one a and 1B, And we are actually, we're not even in there. 

So, we can't. 

We've we've had this before in Sao Paulo. 

Okay, oh, I can't know it was a fight. 

It was fire. 

Actually, it was a FICO service and FICO only operating in Availability zones in US East one Another, one of ours aligned so we could only create a single Eni to FICO service in USA's one because they were operating two different two availabilities and only one of them aligned with the two A's that we were, And we were in five six and could only create We could create this endpoint. 

We couldn't create The corresponding one because our ACS didn't align with service providers. 

Same problems for the best thing, So we need to do the exact same expansion. 

These private endpoint sublets I put those in every AC And set the routing up So that if you look at here, Like the tgw internal subnet, for example. 

This has routes to the private endpoint subnets. 

If we expand that into Zone C, we're going to need to choose a fire water route that traffic. 

But, and this is egress, so this could be like Prime connecting to Future X Prime comes through the internal transit Gateway In terms of Transit Gateway needs to root it to the Endpoint for future X, which sits in outside the firewall. 

In this private link endpoint subnet, So we need to expand those as well, And Exactly the same process, we'd need side blocks. 

We'd need to make sure the rooting lines And we need to update the modules So that when we're we're as a customer Are trying to connect to SAS services using private link. 

We make sure that we're available in every AMC that customer might be, Then it, because yeah, sorry, that SAS provider, because if we, if we Speak to us provider the best practices. 

If you're a sat provider is to be available in every Az, But not all people are like, we aren't. 

So, come customers come to us, and it's a problem we're trying to fix that problem. 

But we have that same problem. 

When we get suspiders, They might not be an AZ. 

Every ASA you add that with FICA, we've got a single Ac. 

Find the failure With a connection to a FICOS service because they're not in The same agencies that we are, And this would fix that As soon as we're as soon as we've got private endpoints of Nets in every Az. 

We can now come to FICO service, Regardless of what AZ is there there and increase our resilience. 

So, we've now got two connections to their service rather than one, so. 

So past. 

Let us do the design part. 

And then we'll go to the Finding out this side, every details, and then we'll give you some part. 

Yeah, so I'll share this diagram with you, I will just. 

We'll just use this between us as like a bit of a scrubber diagram. 

What we need is I'll copy the I'll copy the egress diagram to as well as this is Ingress. 

Okay, So we'll put the industry into diagram before we start changing the the main diagram, And we can just use this as a scratch. 

Uh, soccer at a new tab here called egress. 

Um, so get your head around that routine. 

Have a look at the diagram, uh, because it looks complicated, but when you break it down. 

We keep that traffic symmetric. 

We keep that traffic symmetric. 

That's the main thing, because the firewalls are stateful. 

So, Um, Yeah. 

I'll send that over to you now and then. 

We can add another follow-up call with some more questions that you might have Letter in the week or something. 

Yes, yeah. 

We also look at you guys. 

We also look at you guys. 

So, yeah, it's quite a big piece of work, But should be quite interesting. 

Oh yes, and Flap to do it, and that other reasons as well. 

Yeah, yeah. 

Okay, just just. 

Okay, just just. 

